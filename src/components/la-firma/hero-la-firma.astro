---
/* LaFirmaHero.astro - Nivel: Magic Circle / Ingeniería de Élite */
---

<section 
  class="relative bg-white min-h-[90vh] flex items-center py-32 overflow-hidden"
  aria-labelledby="hero-firma-title"
>
  
  <div class="absolute -right-24 top-1/2 -translate-y-1/2 w-[60rem] opacity-[0.03] pointer-events-none select-none" aria-hidden="true">
    <svg 
      viewBox="0 0 374 223" 
      fill="none" 
      xmlns="http://www.w3.org/2000/svg" 
      class="w-full h-auto"
      shape-rendering="geometricPrecision"
      focusable="false"
    >
      <path fill="var(--color-oro-noble)" d="M264.047 116.057q0 11.159-1.13 22.458a112.3 112.3 0 0 1-4.096 21.751 92.2 92.2 0 0 1-8.334 20.198q-5.226 9.605-13.7 17.514h12.994l16.949 22.74h-31.356l-10.734-13.7q-10.594 7.062-23.164 10.169-12.429 3.108-25.989 3.108-14.549 0-26.271-5.226-11.724-5.367-20.057-14.407-8.192-9.04-12.712-20.904-4.378-11.865-4.378-25 0-13.418 3.531-23.729 3.672-10.453 9.322-17.938 5.649-7.627 12.288-12.43 6.639-4.802 12.853-7.203-2.683-3.955-5.508-9.04a139 139 0 0 1-4.944-10.734 96 96 0 0 1-3.531-11.158q-1.413-5.65-1.412-10.735 0-10.17 2.683-18.927 2.825-8.757 8.899-15.254t15.678-10.17q9.604-3.813 23.164-3.813 9.321 0 16.666 2.542 7.487 2.402 13.277 6.215 5.933 3.672 10.311 8.192 4.52 4.38 7.768 8.334L221.815 48.4q-2.12-3.672-5.367-7.627-3.25-3.955-7.91-7.203-4.52-3.39-10.734-5.509-6.073-2.119-13.842-2.119-6.78 0-11.441 2.684-4.52 2.684-7.345 6.639-2.824 3.954-4.096 8.474-1.13 4.52-1.13 8.192 0 4.096 1.413 8.899.565 2.118 2.118 5.367 1.695 3.249 4.661 8.616 3.107 5.226 7.91 13.135a5703 5703 0 0 1 11.723 19.068 2704 2704 0 0 1 16.384 26.272q9.464 15.113 21.752 34.887 3.39-4.803 5.367-10.028 2.12-5.226 3.249-11.159 1.27-5.932 1.695-12.712.424-6.924.424-15.254zm-106.074 2.966q-8.898 4.096-14.125 12.429-5.084 8.334-5.084 21.893 0 10.17 3.672 17.797t9.322 12.712q5.791 5.085 12.853 7.627 7.204 2.401 14.266 2.401 6.074 0 10.734-.706t8.193-1.836q3.53-1.272 6.214-2.825 2.824-1.695 5.085-3.672l-51.13-79.944z"></path>
    </svg>
  </div>

  <div class="relative z-10 max-w-[1440px] mx-auto px-8 md:px-24 lg:px-36 w-full">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-16 items-start">
      
      <div class="lg:col-span-8 flex flex-col items-start">
        <div class="flex items-center gap-6 mb-10 observer-element">
          <div class="axial-stela-horizontal-reveal h-[1.5px] bg-gradient-to-r from-transparent via-[var(--color-oro-noble)] to-transparent"></div>
          <span class="label-museum-gold uppercase">Nuestra Esencia</span>
        </div>

        <h1 id="hero-firma-title" class="monumental-bold text-[var(--color-bosque)] observer-element antialiased" style="transition-delay: 0.3s;">
          La Firma
        </h1>

        <h2 class="firma-statement-hanken text-[var(--color-bosque)] observer-element antialiased" style="transition-delay: 0.6s;">
          Diseñamos estructuras jurídicas <br class="hidden sm:block" />
          para decisiones que no admiten <br class="hidden sm:block" />
          improvisación
        </h2>
      </div>

      <nav 
        class="lg:col-span-4 lg:pt-52 flex flex-col items-start pl-12 observer-element hidden lg:flex relative" 
        style="transition-delay: 0.9s;"
        aria-label="Navegación de sección"
      >
        <div class="absolute left-0 top-0 h-full w-[1.5px] bg-gradient-to-b from-transparent via-[var(--color-oro-noble)]/40 to-transparent" aria-hidden="true"></div>

        <div class="flex flex-col gap-9">
          {[
            { name: 'Áreas de Práctica', slug: '/#AreasPractica' },
            { name: 'Nuestro Equipo', slug: '/talento' },
            { name: 'Contáctenos', slug: '/contactenos' }
          ].map((item) => (
            <a href={item.slug} class="group flex items-center gap-4 cursor-pointer outline-none focus-visible:ring-1 focus-visible:ring-[var(--color-oro-noble)] focus-visible:ring-offset-8 rounded-sm">
              <div class="axial-stela-hover h-[1.2px] bg-gradient-to-r from-transparent via-[var(--color-oro-noble)] to-transparent w-0 opacity-0 group-hover:w-12 group-hover:opacity-100 transition-all duration-700 ease-out"></div>
              <span class="text-[14px] text-[var(--color-bosque)] font-medium tracking-[0.28em] uppercase transition-all duration-500 ease-out group-hover:translate-x-3 group-hover:text-[var(--color-oro-tecnico)]">
                {item.name}
              </span>
            </a>
          ))}
        </div>
      </nav>
    </div>
  </div>
</section>

<script is:inline>
  // Encapsulado e inline para evitar desajustes en la hidratación de Astro
  const observerOptions = { threshold: 0.1, rootMargin: "0px 0px -50px 0px" };
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  document.querySelectorAll('.observer-element').forEach(el => observer.observe(el));
</script>

<style>
  .label-museum-gold {
    color: var(--color-oro-tecnico);
    font-size: 12px;
    letter-spacing: 0.75em;
    font-weight: 600;
  }

  .monumental-bold {
    font-family: 'ClashDisplay', sans-serif;
    font-size: clamp(4.5rem, 11vw, 8rem);
    font-weight: 700; 
    line-height: 0.85;
    /* Ajuste Editorial: -0.02em para mayor solidez visual */
    letter-spacing: -0.02em;
    margin-left: -0.02em; 
  }

  .firma-statement-hanken {
    font-family: 'Hanken Grotesk', sans-serif;
    font-size: clamp(1.3rem, 1.9vw, 1.7rem);
    line-height: 1.5;
    font-weight: 500;
    letter-spacing: 0.05em;
  }

  /* ESTELA TITULAR: Transición para mayor estabilidad */
  .axial-stela-horizontal-reveal {
    width: 0;
    opacity: 0;
    transition: width 2.2s cubic-bezier(0.19, 1, 0.22, 1), opacity 2.2s ease-out;
  }

  .is-visible .axial-stela-horizontal-reveal {
    width: 70px;
    opacity: 1;
  }

  /* EFECTO SEDA: 40px Glide + 2.4s (Transición Superior) */
  .observer-element {
    opacity: 0;
    transform: translate3d(0, 40px, 0);
    transition: opacity 2.4s cubic-bezier(0.16, 1, 0.3, 1), transform 2.4s cubic-bezier(0.16, 1, 0.3, 1);
    will-change: transform, opacity;
  }

  .observer-element.is-visible {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }

  @media (max-width: 1024px) {
    .monumental-bold { font-size: clamp(3.5rem, 15vw, 5rem); margin-bottom: 2rem; }
    .firma-statement-hanken { font-size: 1.25rem; line-height: 1.4; }
    .label-museum-gold { font-size: 10px; letter-spacing: 0.4em; }
    .is-visible .axial-stela-horizontal-reveal { width: 45px; }
  }

  @media (prefers-reduced-motion: reduce) {
    .observer-element { opacity: 1 !important; transform: none !important; transition: none !important; }
    .axial-stela-horizontal-reveal { width: 70px !important; opacity: 1 !important; transition: none !important; }
  }
</style>