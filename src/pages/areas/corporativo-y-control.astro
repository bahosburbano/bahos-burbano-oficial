---
import Layout from '../../layouts/Layout.astro';

// IDENTIDAD INSTITUCIONAL: UNICODE PURO (Texto Íntegro)
const titlePart1 = "DERECHO CORPORATIVO"; 
const titlePart2 = "CONTROL";
const titlePart3 = "REGULATORIO";

const relatedAreas = [
  { name: "Derecho Público", href: "/areas/publico-y-gobernanza" },
  { name: "Derecho Sanitario", href: "/areas/sanitario-y-responsabilidad" },
  { name: "Derecho Internacional", href: "/areas/internacional-y-movilidad" }
];
---

<Layout title={`${titlePart1} & ${titlePart2} | Bahos & Burbano`}>
  <main class="bg-white min-h-screen relative overflow-hidden antialiased">
    
    <div class="max-w-[1440px] mx-auto px-8 md:px-28 pb-24 relative z-20 pt-12 md:pt-24">
      
      <div class="flex flex-col lg:grid lg:grid-cols-[minmax(280px,32%)_1fr] gap-12 lg:gap-24 items-start relative">
        
        <aside class="observer-element-area grid grid-cols-1 gap-0 lg:gap-0 lg:space-y-20 lg:sticky lg:top-10 lg:pt-[242px] order-2 lg:order-1 w-full pt-0 lg:pt-[242px]" role="complementary">
          
          <div class="block lg:hidden w-full mb-12" aria-hidden="true">
            <div class="h-[1.5px] w-full bg-gradient-to-r from-transparent via-[var(--color-oro-noble)] to-transparent opacity-70"></div>
          </div>

          <div class="relative z-10 text-left pt-4 lg:pt-0">
            <p class="pillar-label-museum text-[var(--color-oro-tecnico)] mb-6">Enlace</p>
            
            <a href="/talento/manuel" class="partner-link-minimal group inline-block outline-none" aria-label="Socio responsable: Manuel Burbano">
              <span class="font-['ClashDisplay'] text-[21px] md:text-[23px] text-[var(--color-bosque)] font-medium block leading-tight antialiased transition-colors duration-500">
                Manuel Burbano
              </span>
              <div class="axial-stela-proportional" aria-hidden="true"></div>
            </a>
          </div>

          <nav class="transversal-nav-minimal relative z-10 mt-12 lg:mt-20" aria-label="Otras áreas de práctica">
            <p class="pillar-label-museum text-[var(--color-oro-tecnico)] mb-6 text-left">Otras Áreas</p>
            <ul class="flex flex-col gap-4">
              {relatedAreas.map((area) => (
                <li>
                  <a href={area.href} class="nav-link-stela-minimal group block text-left outline-none">
                    <span class="font-['Hanken_Grotesk'] text-[16px] md:text-[17px] text-[var(--color-bosque)] group-hover:text-[var(--color-oro-tecnico)] transition-colors duration-500 block">
                      {area.name}
                    </span>
                    <div class="axial-underline-minimal" aria-hidden="true"></div>
                  </a>
                </li>
              ))}
            </ul>
          </nav>
        </aside>

        <article class="flex flex-col gap-10 md:gap-16 observer-element-area px-0 lg:pr-12 order-1 lg:order-2 w-full" style="transition-delay: 0.3s;">
          
          <header class="mb-2 md:mb-10 relative text-left">
            <h1 class="font-['ClashDisplay'] font-bold text-[32px] md:text-[45px] text-[var(--color-bosque)] leading-[1.1] pt-4 tracking-[0.02em] antialiased uppercase">
              {titlePart1} <br />
              <span class="ampersand-mono-regular">&</span> {titlePart2} <br />
              {titlePart3}
            </h1>
          </header>

          <div class="space-y-8 md:space-y-12 max-w-3xl">
            <p class="hanken-body-text">
              Estructuramos organizaciones, transacciones y relaciones empresariales bajo una lógica de preservación de valor, coherencia normativa y asignación estratégica del riesgo. Nuestra práctica se enfoca en el diseño de arquitecturas societarias capaces de operar en entornos altamente regulados.
            </p>

            <p class="hanken-body-text">
              Concebimos el <span class="italic">compliance</span> como un pilar autónomo de integridad institucional y gestión del riesgo legal, vinculado a la responsabilidad administrativa y penal de la organización. Mitigamos la exposición sancionatoria y fortalecemos la credibilidad institucional.
            </p>

            <p class="hanken-body-text">
              La práctica articula el derecho societario, contractual y regulatorio desde una visión unificada, permitiendo operaciones de M&A con consistencia jurídica y control normativo efectivo, transformando la norma en un activo de confianza.
            </p>
          </div>
        </article>

      </div>
    </div>
  </main>
</Layout>

<script is:inline>
  {
    const options = { threshold: 0.1, rootMargin: "0px 0px -50px 0px" };
    const observerArea = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
          observerArea.unobserve(entry.target);
        }
      });
    }, options);

    // Blindaje defensivo de nodos
    const elements = document.querySelectorAll('.observer-element-area');
    if (elements.length > 0) {
      elements.forEach(el => observerArea.observe(el));
    }
  }
</script>

<style is:global>
  /* --- REFINAMIENTO TIPOGRÁFICO --- */
  .ampersand-mono-regular {
    font-family: 'B612 Mono', monospace !important;
    color: var(--color-oro-noble);
    font-size: 0.82em;
    margin-right: 0.25em;
    vertical-align: middle;
    font-weight: 400;
  }

  .hanken-body-text {
    font-family: 'Hanken Grotesk', sans-serif;
    font-size: clamp(17px, 2vw, 20px);
    color: var(--color-bosque);
    line-height: 1.6; /* Ajuste móvil para mejor lectura */
    font-weight: 400;
    opacity: 1;
    text-wrap: pretty;
  }

  @media (min-width: 768px) {
    .hanken-body-text { line-height: 1.8; }
  }

  .pillar-label-museum {
    font-family: 'Hanken Grotesk', sans-serif;
    text-transform: uppercase;
    letter-spacing: 0.3em; /* Ajuste móvil */
    font-weight: 600;
    font-size: 11px;
    line-height: 1;
  }

  @media (min-width: 768px) {
    .pillar-label-museum { letter-spacing: 0.5em; font-size: 12px; }
  }

  /* --- SISTEMA AXIAL (EFECTO SEDA 1.8s) --- */
  .axial-stela-proportional {
    width: 0;
    height: 1.5px;
    margin-top: 8px;
    background: linear-gradient(to right, var(--color-oro-noble), transparent);
    opacity: 0;
    transition: width 1.2s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.8s ease;
  }
  .partner-link-minimal:hover .axial-stela-proportional { 
    opacity: 1; width: 100%;
  }

  .axial-underline-minimal {
    width: 0;
    height: 1.5px;
    background: linear-gradient(to right, var(--color-oro-noble), transparent);
    margin-top: 4px;
    transition: width 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  }
  .nav-link-stela-minimal:hover .axial-underline-minimal { 
    width: 80px;
  }

  /* EFECTO SEDA RECALIBRADO */
  .observer-element-area {
    opacity: 0;
    transform: translate3d(0, 30px, 0); /* Menor distancia en móvil para suavidad */
    transition: opacity 1.8s cubic-bezier(0.16, 1, 0.3, 1), 
                transform 1.8s cubic-bezier(0.16, 1, 0.3, 1);
    will-change: transform, opacity;
  }

  @media (min-width: 768px) {
    .observer-element-area { 
        transform: translate3d(0, 40px, 0); 
    }
  }

  .observer-element-area.is-visible {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }

  /* Ajustes específicos de layout */
  @media (max-width: 1024px) {
    .lg\:pt-\[242px\] { padding-top: 0; }
  }

  @media (prefers-reduced-motion: reduce) {
    .observer-element-area { opacity: 1 !important; transform: none !important; transition: none !important; }
  }
</style>